{% extends "classic/layout.html" %}

{% block rootrellink %}
    <li><img src="{{ pathto('_static/' + theme_root_icon, 1) }}" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="{{theme_root_url}}">{{theme_root_name}}</a>{{ reldelim1 }}</li>
    {% if theme_root_include_title %}
    <a href="{{ pathto('index') }}">{{ shorttitle }}</a>{{ reldelim1 }}
    {% endif %}
{% endblock %}

{%- macro searchbox() %}
{# modified from sphinx/themes/basic/searchbox.html #}
    {%- if builder != "htmlhelp" %}
    <div class="inline-search" role="search">
        <form class="inline-search" action="{{ pathto('search') }}" method="get">
          <input placeholder="{{ _('Quick search') }}" aria-label="{{ _('Quick search') }}" type="text" name="q" />
          <input type="submit" value="{{ _('Go') }}" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    {%- endif %}
{%- endmacro %}

{% block relbar1 %} {% if builder != 'qthelp' %} {{ relbar() }} {% endif %} {% endblock %}
{% block relbar2 %} {% if builder != 'qthelp' %} {{ relbar() }} {% endif %} {% endblock %}
{% block relbaritems %}
    {%- if pagename != "search" and builder != "singlehtml" and builder != "htmlhelp" %}
    <li class="right">
        {{ searchbox() }}
        {{ reldelim2 }}
    </li>
    {%- endif %}
{% endblock %}

{% block extrahead %}
    <link rel="shortcut icon" type="image/png" href="{{ pathto('_static/' + theme_root_icon, 1) }}" />
    {% if builder != "htmlhelp" %}
        {% if not embedded %}
            <script type="text/javascript" src="{{ pathto('_static/copybutton.js', 1) }}"></script>
            <script type="text/javascript" src="{{ pathto('_static/menu.js', 1) }}"></script>
        {% endif %}
    {% endif %}
    {{ super() }}
{% endblock %}

{%- block css %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {{ super() }}
{%- endblock %}

{%- block body_tag %}
    <body>
    <nav class="mobile-nav">
        <button class="toggler" aria-expanded="false" aria-label="{{ _('Menu') }}" aria-controls="navigation">
            <span class="hamburger">
                <span></span>
            </span>
        </button>
        <div class="nav-content" role="navigation">
            <img src="{{ pathto('_static/' + theme_root_icon, 1) }}" alt="Logo"/>
            {%- if switchers is defined %}
            <div class="version_switcher_placeholder">{{ release }}</div>
            {% endif -%}
            {%- if pagename != "search" and builder != "singlehtml" %}
                <div id="searchbox" role="search">
                    <form class="search" action="{{ pathto('search') }}" method="get">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                             class="search-icon">
                            <path fill-rule="nonzero"
                                  d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                        </svg>
                        <input type="text" name="q" aria-label="{{ _('Quick search') }}"/>
                        <input type="submit" value="{{ _('Go') }}"/>
                    </form>
                </div>
            {%- endif %}
        </div>
    </nav>
{% endblock %}

{% block sidebar1 %}
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            {%- if switchers is defined %}
            <div class="language_switcher_placeholder">{{ language or 'en' }}</div>
            {% endif -%}
            {%- block sidebarlogo %}
                {%- if logo %}
                    <p class="logo"><a href="{{ pathto(master_doc)|e }}">
                        <img class="logo" src="{{ pathto('_static/' + logo, 1)|e }}" alt="Logo"/>
                    </a></p>
                {%- endif %}
            {%- endblock %}
            {#- new style sidebar: explicitly include/exclude templates #}
            {%- for sidebartemplate in sidebars %}
                {%- include sidebartemplate %}
            {%- endfor %}
        </nav>
    </div>
{% endblock %}

{% block footer %}
    <div class="footer">
    &copy; <a href="{{ pathto('copyright') }}">{% trans %}Copyright{% endtrans %}</a> {{ copyright|e }}.
    <br />

    {% include "footerdonate.html" %}
    <br />

    {% trans last_updated=last_updated|e %}Last updated on {{ last_updated }}.{% endtrans %}
    {% if theme_issues_url %}{% trans pathto_bugs=theme_issues_url %}<a href="{{ theme_issues_url }}">Found a bug</a>?{% endtrans %}{% endif %}
    <br />

    {% trans sphinx_version=sphinx_version|e %}Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> {{ sphinx_version }}.{% endtrans %}
    </div>
{% endblock %}
